<div class="form-wrapper">
  <mat-card class="form-card">
    <mat-toolbar color="primary">Supplier Registration</mat-toolbar>

    <mat-card-content>
      <form [formGroup]="form" class="form-fields">
        <!-- Name -->
        <mat-form-field appearance="fill">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" />
          <mat-icon matSuffix>label</mat-icon>
          <mat-error *ngIf="form.controls['name'].hasError('required')">
            This field is required.
          </mat-error>
          <mat-error *ngIf="form.controls['name'].hasError('minlength')">
            Minimum of 8 characters required.
          </mat-error>
          <mat-error *ngIf="form.controls['name'].hasError('maxlength')">
            Maximum of 5 characters allowed.
          </mat-error>
          <mat-error *ngIf="form.controls['name'].hasError('email')">
            Maximum of 5 characters allowed.
          </mat-error>
        </mat-form-field>
        <!-- Email -->
        <mat-form-field appearance="fill">
          <mat-label>E-mail</mat-label>
          <input matInput formControlName="email" />
          <mat-icon matSuffix>email</mat-icon>
          <mat-error *ngIf="form.controls['email'].hasError('required')">
            This field is required.
          </mat-error>
          <mat-error *ngIf="form.controls['email'].hasError('email')">
            Please enter a valid email address.
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Zipcode</mat-label>
          <input matInput formControlName="zipCode" [mask]="'00.000-000'" />
          <mat-icon matSuffix>location_on</mat-icon>
          <mat-error
            *ngIf="
              form.controls['zipCode'].hasError('required');
              else zipCodeLength
            "
          >
            This field is required.
          </mat-error>
          <ng-template #zipCodeLength>
            <mat-error
              *ngIf="form.controls['zipCode'].hasError('invalidZipCodeLength')"
            >
              Zipcode must be exactly 8 digits.
            </mat-error>
          </ng-template>
        </mat-form-field>
        <!-- CPF/CNPJ -->
        <mat-form-field appearance="fill">
          <mat-label>CPF/CNPJ</mat-label>
          <input
            matInput
            formControlName="identificationDocument"
            [mask]="'00.000.000/0000-00||000.000.000-00'"
          />
          <mat-icon matSuffix>badge</mat-icon>
          <mat-error
            *ngIf="form.controls['identificationDocument'].hasError('required')"
          >
            This field is required.
          </mat-error>
          <mat-error
            *ngIf="
              form.controls['identificationDocument'].hasError(
                'invalidCpfLength'
              )
            "
          >
            If the document type is CPF, it must have exactly 11 digits.
          </mat-error>
          <mat-error
            *ngIf="
              form.controls['identificationDocument'].hasError(
                'invalidCnpjLength'
              )
            "
          >
            If the document type is CNPJ, it must have exactly 14 digits.
          </mat-error>
        </mat-form-field>
        <!-- RG -->

        <ng-container *ngIf="isCpf">
          <div class="divider-with-text">
            <span>If CPF</span>
          </div>
          <mat-form-field appearance="fill">
            <mat-label>RG</mat-label>
            <input matInput formControlName="rg" [mask]="'00.000.000'" />
            <mat-icon matSuffix>assignment_ind</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>birthDate</mat-label>
            <input matInput formControlName="birthDate" [mask]="'00/00/00'" />
            <mat-icon matSuffix>cake</mat-icon>
          </mat-form-field>
        </ng-container>
      </form>
    </mat-card-content>
    <!-- BTN Actions -->
    <mat-card-actions class="actions-center">
      <button
        mat-raised-button
        color="primary"
        (click)="onSubmit()"
        type="submit"
        [disabled]="form.invalid"
      >
        Save
      </button>
      <button
        mat-raised-button
        (click)="onCancel()"
        class="btn-space"
        type="button"
      >
        Cancel
      </button>
    </mat-card-actions>
  </mat-card>
</div>
